# ====================================
# Galaxy Tab S9 WiFi (gts9wifi) - LXC Kernel
# Snapdragon 8 Gen 2 (SM8550) - Android 14
# ====================================

# ====== KERNEL SOURCE ======
# Using samsung-sm8550-tab organization kernel
KERNEL_SOURCE=https://github.com/samsung-sm8550-tab/android_kernel_samsung_sm8550
KERNEL_SOURCE_BRANCH=lineage-22

# Defconfig location (usually in arch/arm64/configs/vendor/)
# Common Samsung S9 defconfig names: gts9wifi_defconfig or vendor/gts9_defconfig
KERNEL_CONFIG=vendor/kalama_GKI_defconfig

# ====== ARCHITECTURE ======
ARCH=arm64

# ====== KERNEL IMAGE ======
# For Tab S9, this is typically Image or Image.gz
# Check your device tree's BoardConfig.mk for BOARD_KERNEL_IMAGE_NAME
KERNEL_IMAGE_NAME=Image

# ====== CLANG CONFIGURATION ======
# We'll use Google's AOSP Clang for Android 14
USE_CUSTOM_CLANG=false
CUSTOM_CLANG_SOURCE=
CUSTOM_CLANG_BRANCH=

# Google Clang - Android 14 uses r450784e or r487747c
CLANG_BRANCH=master-kernel-build-2022
CLANG_VERSION=r487747c

# ====== GCC CROSS COMPILATION ======
ENABLE_GCC_ARM64=true
ENABLE_GCC_ARM32=true

# ====== EXTRA BUILD COMMANDS ======
# Snapdragon 8 Gen 2 specific flags (leave empty if unsure)
EXTRA_CMDS=

# ====== KERNELSU (ROOT) ======
# Enable KernelSU for root access
ENABLE_KERNELSU=true

# Use latest stable version
# Options: main (dev), empty (latest stable), or specific tag like v0.9.5
KERNELSU_TAG=

# ====== LXC/DOCKER SUPPORT (CRITICAL FOR YOUR USE CASE) ======
# These automatically inject LXC and Docker kernel configs
DISABLE_LTO=false
USE_CUSTOM_LXC_PATCH=true
ADD_KPROBES_CONFIG=true
ADD_OVERLAYFS_CONFIG=true
ADD_LXC_CONFIG=true

# Disable CC_WERROR to prevent warnings from blocking build
DISABLE_CC_WERROR=true

# ====== CACHING ======
# Enable ccache to speed up subsequent builds
ENABLE_CCACHE=true

# ====== DTBO ======
# Tab S9 needs DTBO
NEED_DTBO=true

# ====== BOOT IMAGE ======
# Set to true if you want to build boot.img directly
# Otherwise, you'll get an AnyKernel3 zip to flash in TWRP
BUILD_BOOT_IMG=false

# If BUILD_BOOT_IMG=true, provide your current boot.img URL
# Extract from your device: adb shell su -c "dd if=/dev/block/by-name/boot of=/sdcard/boot.img"
# Then upload to a file host and paste the direct download link here
SOURCE_BOOT_IMAGE=

# ====== ZIPALIGN (Optional) ======
# Create flashable zip
ANYKERNEL3=true
